have done a tone of work on this already here: https://github.com/bmdavis419/effect-plus-sveltekit/tree/main/src/routes/metis

the above version used Effect for the resolver. I personally like this better tbh, but I know it's gonna kill adoption
